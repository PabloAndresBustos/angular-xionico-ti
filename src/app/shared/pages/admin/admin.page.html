<ion-menu contentId="main-content" type="overlay">
  <ion-card-header class="bg-(--ion-xionico-color) px-4 py-2 h-[77px] items-center justify-center">
    <div class="flex justify-between items-center w-full">
      <ion-card-title class="text-white text-lg font-bold">
        Gestion administrativa
      </ion-card-title>
    </div>
  </ion-card-header>

  <ion-content class="menu-xionico">
    <ion-list>
      <ion-item button (click)="selectionMenu('pending')">
        <ion-icon slot="start" name="person-add-outline" color="xionico" class="mr-2"></ion-icon>
        <ion-label>Altas Pendientes</ion-label>
        <ion-badge slot="end" color="warning"
          class="flex items-center justify-center h-[22px] w-[22px] rounded-full text-[12px] font-bold p-0">{{
          pendingUsers().length }}</ion-badge>
      </ion-item>

      <ion-item button (click)="selectionMenu('active')">
        <ion-icon slot="start" name="people-outline" color="xionico" class="mr-2"></ion-icon>
        <ion-label>Usuarios Activos</ion-label>
      </ion-item>

      <ion-item button (click)="selectionMenu('sql')">
        <ion-icon slot="start" name="server-outline" color="xionico" class="mr-2"></ion-icon>
        <ion-label>Consultas SQL</ion-label>
      </ion-item>
      @if(adminUser()){
      <ion-item button (click)="selectionMenu('distribuidoras')">
        <ion-icon slot="start" name="document-text-outline" color="xionico" class="mr-2"></ion-icon>
        <ion-label>Reportes</ion-label>
      </ion-item>
      }

    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <app-header />

  <ion-content [fullscreen]="true" class="ion-padding">
    @if(adminUser() || supportUser()){

    @if(activeSection() === 'pending'){
    <app-users-sing-up [pendingUsers]="pendingUsers()" [allServerData]="allServerData()" />
    } @else if(activeSection() === 'active'){
    <app-active-users [approvedUsers]="approvedUsers()" [allServerData]="allServerData()" />
    }@else if(activeSection() === 'distribuidoras') {
    <app-distribuidoras />
    }@else{
    <app-sql-query [allServerData]="allServerData()" />
    }

    } @else {
    <div class="flex flex-col items-center justify-center h-full">
      <ion-icon name="lock-closed-outline" size="large"></ion-icon>
      <p>No tienes permisos para acceder a este panel.</p>
    </div>
    }
  </ion-content>
</div>
