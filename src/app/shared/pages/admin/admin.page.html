<ion-menu contentId="main-content" type="overlay">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title class="flex items-center justify-center ml-8">
        Gesti√≥n Administrativa
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <ion-item button (click)="selectionMenu('pending')">
        <ion-icon slot="start" name="person-add-outline"></ion-icon>
        <ion-label>Altas Pendientes</ion-label>
        <ion-badge slot="end" color="warning" class="flex items-center justify-center h-[22px] w-[22px] rounded-full text-[12px] font-bold p-0">{{ pendingUsers().length }}</ion-badge>
      </ion-item>

      <ion-item button (click)="selectionMenu('active')">
        <ion-icon slot="start" name="people-outline"></ion-icon>
        <ion-label>Usuarios Activos</ion-label>
      </ion-item>

      <ion-item button (click)="selectionMenu('sql')">
        <ion-icon slot="start" name="server-outline"></ion-icon>
        <ion-label>Consultas SQL</ion-label>
      </ion-item>

      <ion-item button (click)="selectionMenu('distribuidoras')">
        <ion-icon slot="start" name="business-outline"></ion-icon>
        <ion-label>Distribuidoras</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <app-header />

  <ion-content [fullscreen]="true" class="ion-padding">
    @if(adminUser() || supportUser()){

      @if(activeSection() === 'pending'){
        <app-users-sing-up [pendingUsers]="pendingUsers()" [allServerData]="allServerData()" />
      } @else if(activeSection() === 'active'){
        <app-active-users [approvedUsers]="approvedUsers()" [allServerData]="allServerData()"/>
      }@else if(activeSection() === 'distribuidoras') {
        <app-distribuidoras />
      }@else{
        <app-sql-query />
      }

    } @else {
      <div class="flex flex-col items-center justify-center h-full">
        <ion-icon name="lock-closed-outline" size="large"></ion-icon>
        <p>No tienes permisos para acceder a este panel.</p>
      </div>
    }
  </ion-content>
</div>
